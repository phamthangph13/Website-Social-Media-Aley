<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aley - Tin nh·∫Øn</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="home.css">
    <link rel="stylesheet" href="messages.css">
</head>
<body>
    <div class="home-container">
        <!-- Left Sidebar -->
        <div class="sidebar">
            <div class="sidebar-header">
                <i class="fas fa-people-group logo-icon"></i>
                <div class="logo-text">Aley</div>
            </div>
            
            <div class="sidebar-menu">
                <a href="home.html" class="menu-item">
                    <i class="fas fa-home"></i>
                    <span>Trang ch·ªß</span>
                </a>
                <a href="explore.html" class="menu-item">
                    <i class="fas fa-compass"></i>
                    <span>Kh√°m ph√°</span>
                </a>
                <a href="notifications.html" class="menu-item">
                    <i class="fas fa-bell"></i>
                    <span>Th√¥ng b√°o</span>
                </a>
                <a href="messages.html" class="menu-item active">
                    <i class="fas fa-envelope"></i>
                    <span>Tin nh·∫Øn</span>
                </a>
                <a href="saved.html" class="menu-item">
                    <i class="fas fa-bookmark"></i>
                    <span>ƒê√£ l∆∞u</span>
                </a>
                <a href="list.html" class="menu-item">
                    <i class="fas fa-list-alt"></i>
                    <span>Danh s√°ch</span>
                </a>
                <a href="profile.html" class="menu-item">
                    <i class="fas fa-user"></i>
                    <span>Trang c√° nh√¢n</span>
                </a>
                <a href="statistics.html" class="menu-item">
                    <i class="fas fa-chart-line"></i>
                    <span>Th·ªëng k√™</span>
                </a>
                <a href="settings.html" class="menu-item">
                    <i class="fas fa-cog"></i>
                    <span>C√†i ƒë·∫∑t</span>
                </a>
            </div>
            
            <div class="sidebar-footer">
                <div class="user-profile">
                    <div class="user-avatar">
                        <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="User avatar">
                    </div>
                    <div class="user-info">
                        <div class="user-name">Nguy·ªÖn VƒÉn A</div>
                        <div class="user-status">Tr·ª±c tuy·∫øn</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Mobile Toggle -->
        <div class="mobile-toggle">
            <i class="fas fa-bars"></i>
        </div>
        
        <!-- Main Content -->
        <div class="main-content">
            <!-- Header with Search and Actions -->
            <div class="content-header">
                <div class="search-bar">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="T√¨m ki·∫øm ng∆∞·ªùi d√πng...">
                </div>
                
                <div class="header-actions">
                    <div class="action-btn">
                        <i class="fas fa-envelope"></i>
                        <div class="notification-badge">3</div>
                    </div>
                    <div class="action-btn">
                        <i class="fas fa-bell"></i>
                        <div class="notification-badge">5</div>
                    </div>
                    <div class="action-btn">
                        <i class="fas fa-user"></i>
                    </div>
                </div>
            </div>
            
            <!-- Messages Container -->
            <div class="messages-container">
                <!-- Conversations List -->
                <div class="conversations-list">
                    <div class="conversations-header">
                        <h2 class="section-title">Tin nh·∫Øn</h2>
                        <div class="conversation-actions">
                            <div class="conversation-action-btn">
                                <i class="fas fa-edit"></i>
                            </div>
                            <div class="conversation-action-btn active">
                                <i class="fas fa-inbox"></i>
                            </div>
                            <div class="conversation-action-btn">
                                <i class="fas fa-users"></i>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Conversation Search -->
                    <div class="conversation-search">
                        <i class="fas fa-search"></i>
                        <input type="text" placeholder="T√¨m ki·∫øm cu·ªôc tr√≤ chuy·ªán">
                    </div>
                    
                    <!-- Conversation Filters -->
                    <div class="conversation-filters">
                        <div class="filter-btn active">T·∫•t c·∫£</div>
                        <div class="filter-btn">Ch∆∞a ƒë·ªçc</div>
                        <div class="filter-btn">ƒê√£ ƒë√°nh d·∫•u</div>
                    </div>
                    
                    <!-- Conversation Items -->
                    <div class="conversation-list">
                        <div class="conversation-item active" data-id="conv1">
                            <div class="conversation-avatar">
                                <img src="https://randomuser.me/api/portraits/women/44.jpg" alt="User avatar">
                                <div class="status-indicator online"></div>
                            </div>
                            <div class="conversation-content">
                                <div class="conversation-header">
                                    <div class="conversation-name">Tr·∫ßn Th·ªã B</div>
                                    <div class="conversation-time">10:42</div>
                                </div>
                                <div class="conversation-message">B·∫°n ∆°i, cu·ªëi tu·∫ßn n√†y m√¨nh ƒëi c√† ph√™ nha? üòä</div>
                            </div>
                        </div>
                        
                        <div class="conversation-item unread" data-id="conv2">
                            <div class="conversation-avatar">
                                <img src="https://randomuser.me/api/portraits/men/67.jpg" alt="User avatar">
                                <div class="status-indicator offline"></div>
                            </div>
                            <div class="conversation-content">
                                <div class="conversation-header">
                                    <div class="conversation-name">L√™ VƒÉn C</div>
                                    <div class="conversation-time">09:23</div>
                                </div>
                                <div class="conversation-message">B·∫°n c√≥ th·ªÉ g·ª≠i m√¨nh link d·ª± √°n ƒë√≥ kh√¥ng?</div>
                                <div class="conversation-badge">2</div>
                            </div>
                        </div>
                        
                        <div class="conversation-item unread" data-id="conv3">
                            <div class="conversation-avatar group-avatar">
                                <img src="https://randomuser.me/api/portraits/women/22.jpg" alt="User avatar" class="group-img-1">
                                <img src="https://randomuser.me/api/portraits/men/79.jpg" alt="User avatar" class="group-img-2">
                                <img src="https://randomuser.me/api/portraits/women/65.jpg" alt="User avatar" class="group-img-3">
                            </div>
                            <div class="conversation-content">
                                <div class="conversation-header">
                                    <div class="conversation-name">Nh√≥m d·ª± √°n Aley</div>
                                    <div class="conversation-time">H√¥m qua</div>
                                </div>
                                <div class="conversation-message"><span class="message-sender">Ph∆∞∆°ng:</span> M·ªçi ng∆∞·ªùi update ti·∫øn ƒë·ªô l√™n drive nh√©!</div>
                                <div class="conversation-badge">5</div>
                            </div>
                        </div>
                        
                        <div class="conversation-item" data-id="conv4">
                            <div class="conversation-avatar">
                                <img src="https://randomuser.me/api/portraits/women/28.jpg" alt="User avatar">
                                <div class="status-indicator online"></div>
                            </div>
                            <div class="conversation-content">
                                <div class="conversation-header">
                                    <div class="conversation-name">Ph·∫°m Th·ªã D</div>
                                    <div class="conversation-time">H√¥m qua</div>
                                </div>
                                <div class="conversation-message">C·∫£m ∆°n b·∫°n nhi·ªÅu nha! üôè</div>
                            </div>
                        </div>
                        
                        <div class="conversation-item" data-id="conv5">
                            <div class="conversation-avatar">
                                <img src="https://randomuser.me/api/portraits/men/42.jpg" alt="User avatar">
                                <div class="status-indicator away"></div>
                            </div>
                            <div class="conversation-content">
                                <div class="conversation-header">
                                    <div class="conversation-name">Ho√†ng VƒÉn G</div>
                                    <div class="conversation-time">12/05</div>
                                </div>
                                <div class="conversation-message">B·∫°n ƒë√£ g·ª≠i m·ªôt ·∫£nh.</div>
                            </div>
                        </div>
                        
                        <div class="conversation-item" data-id="conv6">
                            <div class="conversation-avatar">
                                <img src="https://randomuser.me/api/portraits/women/56.jpg" alt="User avatar">
                                <div class="status-indicator offline"></div>
                            </div>
                            <div class="conversation-content">
                                <div class="conversation-header">
                                    <div class="conversation-name">Tr·∫ßn Th·ªã H</div>
                                    <div class="conversation-time">10/05</div>
                                </div>
                                <div class="conversation-message">Ok b·∫°n nh√©, h·∫πn g·∫∑p l·∫°i!</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Chat Area -->
                <div class="chat-area">
                    <!-- Chat Header -->
                    <div class="chat-header">
                        <div class="chat-user-info">
                            <div class="chat-avatar">
                                <img src="https://randomuser.me/api/portraits/women/44.jpg" alt="User avatar">
                                <div class="status-indicator online"></div>
                            </div>
                            <div class="chat-user-details">
                                <div class="chat-user-name">Tr·∫ßn Th·ªã B</div>
                                <div class="chat-user-status">ƒêang ho·∫°t ƒë·ªông</div>
                            </div>
                        </div>
                        <div class="chat-actions">
                            <div class="chat-action-btn">
                                <i class="fas fa-phone"></i>
                            </div>
                            <div class="chat-action-btn">
                                <i class="fas fa-video"></i>
                            </div>
                            <div class="chat-action-btn">
                                <i class="fas fa-info-circle"></i>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Chat Messages -->
                    <div class="chat-messages">
                        <div class="chat-date-divider">
                            <span>H√¥m nay</span>
                        </div>
                        
                        <div class="message received">
                            <div class="message-avatar">
                                <img src="https://randomuser.me/api/portraits/women/44.jpg" alt="User avatar">
                            </div>
                            <div class="message-content">
                                <div class="message-bubble">
                                    Ch√†o b·∫°n, d·∫°o n√†y b·∫°n th·∫ø n√†o r·ªìi?
                                </div>
                                <div class="message-time">09:25</div>
                            </div>
                        </div>
                        
                        <div class="message sent">
                            <div class="message-content">
                                <div class="message-bubble">
                                    Ch√†o b·∫°n! M√¨nh v·∫´n kh·ªèe, ƒëang c√≥ d·ª± √°n m·ªõi n√™n h∆°i b·∫≠n x√≠u.
                                </div>
                                <div class="message-time seen">09:28</div>
                            </div>
                        </div>
                        
                        <div class="message sent">
                            <div class="message-content">
                                <div class="message-bubble">
                                    C√≤n b·∫°n th√¨ sao?
                                </div>
                                <div class="message-time seen">09:28</div>
                            </div>
                        </div>
                        
                        <div class="message received">
                            <div class="message-avatar">
                                <img src="https://randomuser.me/api/portraits/women/44.jpg" alt="User avatar">
                            </div>
                            <div class="message-content">
                                <div class="message-bubble">
                                    M√¨nh c≈©ng v·ª´a ho√†n th√†nh d·ª± √°n l·ªõn! Cu·ªëi c√πng c≈©ng c√≥ th·ªùi gian th·ªü üòÖ
                                </div>
                                <div class="message-time">09:35</div>
                            </div>
                        </div>
                        
                        <div class="message received">
                            <div class="message-content">
                                <div class="message-bubble">
                                    <div class="image-message">
                                        <img src="https://images.unsplash.com/photo-1522202176988-66273c2fd55f?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1471&q=80" alt="Image message">
                                    </div>
                                    ƒê√¢y l√† team m√¨nh ƒëi ƒÉn m·ª´ng h√¥m qua n√†y!
                                </div>
                                <div class="message-time">09:40</div>
                            </div>
                        </div>
                        
                        <div class="message sent">
                            <div class="message-content">
                                <div class="message-bubble">
                                    Wow, tr√¥ng vui qu√°! Ch√∫c m·ª´ng b·∫°n nha üéâ
                                </div>
                                <div class="message-time seen">09:42</div>
                            </div>
                        </div>
                        
                        <div class="message received typing">
                            <div class="message-avatar">
                                <img src="https://randomuser.me/api/portraits/women/44.jpg" alt="User avatar">
                            </div>
                            <div class="message-content">
                                <div class="message-bubble">
                                    <div class="typing-indicator">
                                        <span></span>
                                        <span></span>
                                        <span></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Chat Input -->
                    <div class="chat-input-container">
                        <div class="chat-extra-options">
                            <div class="chat-option-btn">
                                <i class="fas fa-plus"></i>
                            </div>
                            <div class="chat-option-btn">
                                <i class="fas fa-image"></i>
                            </div>
                            <div class="chat-option-btn">
                                <i class="fas fa-paperclip"></i>
                            </div>
                            <div class="chat-option-btn">
                                <i class="fas fa-smile"></i>
                            </div>
                        </div>
                        <div class="chat-input-wrap">
                            <textarea class="chat-input" placeholder="Nh·∫≠p tin nh·∫Øn..."></textarea>
                            <div class="send-btn">
                                <i class="fas fa-paper-plane"></i>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Empty State -->
                <div class="empty-chat" style="display: none;">
                    <div class="empty-chat-icon">
                        <i class="fas fa-comments"></i>
                    </div>
                    <div class="empty-chat-title">Kh√¥ng c√≥ cu·ªôc tr√≤ chuy·ªán n√†o ƒë∆∞·ª£c ch·ªçn</div>
                    <div class="empty-chat-text">Ch·ªçn m·ªôt cu·ªôc tr√≤ chuy·ªán t·ª´ danh s√°ch b√™n tr√°i ho·∫∑c b·∫Øt ƒë·∫ßu m·ªôt cu·ªôc tr√≤ chuy·ªán m·ªõi.</div>
                    <div class="empty-chat-btn">
                        <i class="fas fa-edit"></i>
                        Tin nh·∫Øn m·ªõi
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Theme Toggle -->
    <div class="theme-toggle pulse-animation">
        <i class="fas fa-moon"></i>
    </div>
    
    <script>
        // Mobile sidebar toggle
        document.querySelector('.mobile-toggle').addEventListener('click', function() {
            document.querySelector('.sidebar').classList.toggle('active');
        });
        
        // Menu item active state
        const menuItems = document.querySelectorAll('.menu-item');
        menuItems.forEach(item => {
            item.addEventListener('click', function() {
                menuItems.forEach(i => i.classList.remove('active'));
                this.classList.add('active');
            });
        });
        
        // Conversation filter active state
        const filterBtns = document.querySelectorAll('.filter-btn');
        filterBtns.forEach(btn => {
            btn.addEventListener('click', function() {
                filterBtns.forEach(b => b.classList.remove('active'));
                this.classList.add('active');
            });
        });
        
        // Conversation item active state & display respective chat
        const conversationItems = document.querySelectorAll('.conversation-item');
        conversationItems.forEach(item => {
            item.addEventListener('click', function() {
                // Set active conversation
                conversationItems.forEach(i => i.classList.remove('active'));
                this.classList.add('active');
                
                // Remove unread status
                if (this.classList.contains('unread')) {
                    this.classList.remove('unread');
                    const badge = this.querySelector('.conversation-badge');
                    if (badge) badge.remove();
                }
                
                // Show chat area, hide empty state
                document.querySelector('.chat-area').style.display = 'flex';
                document.querySelector('.empty-chat').style.display = 'none';
                
                // Update chat header with conversation info
                const avatar = this.querySelector('.conversation-avatar img')?.src;
                const name = this.querySelector('.conversation-name').textContent;
                
                if (avatar) {
                    document.querySelector('.chat-avatar img').src = avatar;
                }
                document.querySelector('.chat-user-name').textContent = name;
                
                // In a real app, you would fetch messages for this conversation
                // For demo, we'll just show the existing messages
            });
        });
        
        // Send message functionality
        document.querySelector('.send-btn').addEventListener('click', sendMessage);
        document.querySelector('.chat-input').addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        });
        
        function sendMessage() {
            const input = document.querySelector('.chat-input');
            const message = input.value.trim();
            
            if (message) {
                // Get current time
                const now = new Date();
                const hours = now.getHours().toString().padStart(2, '0');
                const minutes = now.getMinutes().toString().padStart(2, '0');
                const timeString = `${hours}:${minutes}`;
                
                // Create message HTML
                const msgHTML = `
                    <div class="message sent">
                        <div class="message-content">
                            <div class="message-bubble">
                                ${message}
                            </div>
                            <div class="message-time">${timeString}</div>
                        </div>
                    </div>
                `;
                
                // Remove typing indicator if present
                const typingIndicator = document.querySelector('.message.typing');
                if (typingIndicator) {
                    typingIndicator.remove();
                }
                
                // Add message to chat
                const chatMessages = document.querySelector('.chat-messages');
                chatMessages.insertAdjacentHTML('beforeend', msgHTML);
                
                // Clear input
                input.value = '';
                
                // Scroll to bottom
                chatMessages.scrollTop = chatMessages.scrollHeight;
                
                // In a real app, you would send this message to your backend
                
                // Simulate response for demo (50% chance)
                if (Math.random() > 0.5) {
                    setTimeout(() => {
                        // Add typing indicator
                        const typingHTML = `
                            <div class="message received typing">
                                <div class="message-avatar">
                                    <img src="https://randomuser.me/api/portraits/women/44.jpg" alt="User avatar">
                                </div>
                                <div class="message-content">
                                    <div class="message-bubble">
                                        <div class="typing-indicator">
                                            <span></span>
                                            <span></span>
                                            <span></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        `;
                        chatMessages.insertAdjacentHTML('beforeend', typingHTML);
                        chatMessages.scrollTop = chatMessages.scrollHeight;
                        
                        // After a delay, replace with actual response
                        setTimeout(() => {
                            const responses = [
                                "Ok, t√¥i hi·ªÉu r·ªìi!",
                                "C·∫£m ∆°n b·∫°n ƒë√£ chia s·∫ª.",
                                "Th·∫≠t th√∫ v·ªã! K·ªÉ th√™m ƒëi.",
                                "T√¥i ƒë·ªìng √Ω v·ªõi b·∫°n.",
                                "H√£y n√≥i th√™m v·ªÅ ƒëi·ªÅu ƒë√≥ nh√©!"
                            ];
                            
                            const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                            
                            document.querySelector('.message.typing').remove();
                            
                            const responseHTML = `
                                <div class="message received">
                                    <div class="message-avatar">
                                        <img src="https://randomuser.me/api/portraits/women/44.jpg" alt="User avatar">
                                    </div>
                                    <div class="message-content">
                                        <div class="message-bubble">
                                            ${randomResponse}
                                        </div>
                                        <div class="message-time">${timeString}</div>
                                    </div>
                                </div>
                            `;
                            
                            chatMessages.insertAdjacentHTML('beforeend', responseHTML);
                            chatMessages.scrollTop = chatMessages.scrollHeight;
                        }, 2000);
                    }, 1000);
                }
            }
        }
        
        // Dark mode toggle
        const themeToggle = document.querySelector('.theme-toggle');
        themeToggle.addEventListener('click', function() {
            document.body.classList.toggle('dark-theme');
            
            const icon = this.querySelector('i');
            if (icon.classList.contains('fa-moon')) {
                icon.classList.remove('fa-moon');
                icon.classList.add('fa-sun');
            } else {
                icon.classList.remove('fa-sun');
                icon.classList.add('fa-moon');
            }
            
            // Save preference
            const isDarkMode = document.body.classList.contains('dark-theme');
            localStorage.setItem('darkMode', isDarkMode);
        });
        
        // Check saved preference
        const savedDarkMode = localStorage.getItem('darkMode');
        if (savedDarkMode === 'true') {
            document.body.classList.add('dark-theme');
            const icon = themeToggle.querySelector('i');
            icon.classList.remove('fa-moon');
            icon.classList.add('fa-sun');
        }
        
        // Auto focus chat input when page loads
        window.addEventListener('load', function() {
            document.querySelector('.chat-input').focus();
            
            // Scroll chat to bottom
            const chatMessages = document.querySelector('.chat-messages');
            chatMessages.scrollTop = chatMessages.scrollHeight;
        });
    </script>
</body>
</html> 